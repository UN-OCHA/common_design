# Changelog

All notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.

## [7.4.1](https://github.com/UN-OCHA/common_design/compare/v7.4.0...v7.4.1) (2023-01-10)

### Bug Fixes

* User menu works automatically now (compare to upgrade instructions for `v7.4.0`) ([7272ab0](https://github.com/UN-OCHA/common_design/commit/7272ab0792a8e69f91b2668bb7320988e980d421))

## [7.4.0](https://github.com/UN-OCHA/common_design/compare/v7.3.0...v7.4.0) (2022-12-21)

### Features

* Language Switcher conforms to UN Multilingual guidelines ([bd4a2e1](https://github.com/UN-OCHA/common_design/commit/bd4a2e10d8df08488904a2e2f923fd809e5f6bce))


### Bug Fixes

* clean up User menu inside new Global Header ([fbfcd5b](https://github.com/UN-OCHA/common_design/commit/fbfcd5b1ce75a3558feacf6509f1f16afba6b57c))

## [7.3.0](https://github.com/UN-OCHA/common_design/compare/v7.2.1...v7.3.0) (2022-11-16)


### Features

* CD Clickable Card ([4467d04](https://github.com/UN-OCHA/common_design/commit/4467d04077602448d361dfa5899be3df02467ec8))
* Clickable variant for CD Card ([e8a57de](https://github.com/UN-OCHA/common_design/commit/e8a57de7deaacf85c0aaedcf3d9b8b142ae53898))


### Bug Fixes

* avoid abbreviations in visually-hidden logo text ([8bb19fc](https://github.com/UN-OCHA/common_design/commit/8bb19fc0f657b501a2489b6dc6e250ac3a27cfd2))
* update typography based on coordination with SCB and RW ([1fdf272](https://github.com/UN-OCHA/common_design/commit/1fdf2721381586008bbe749536ac91fe0ca08133)), [#341](https://github.com/UN-OCHA/common_design/issues/341) [#342](https://github.com/UN-OCHA/common_design/issues/342)

## [7.2.1](https://github.com/UN-OCHA/common_design/compare/v7.2.0...v7.2.1) (2022-08-01)


### Bug Fixes

* comment out no-js rule with min-width on search form ([ce41fdf](https://github.com/UN-OCHA/common_design/commit/ce41fdf641f12262ff263986c8e39869ddf78a57))
* comments and use transparent border ([d50dd0e](https://github.com/UN-OCHA/common_design/commit/d50dd0e8489d230204cb7742fa072ec125748ef2))
* refine first and second level active menu item styles when javascript is disabled. ([959f31c](https://github.com/UN-OCHA/common_design/commit/959f31c4be07e951892a720c23145e0fbcd9f365))
* remove min-width from search form, in favour of element size ([360878c](https://github.com/UN-OCHA/common_design/commit/360878c7325ab421ac0475a156f5fafeb750de9b))
* remove separators from menu items for better visual cohesion when js is disabled ([7e7ebdf](https://github.com/UN-OCHA/common_design/commit/7e7ebdf173463abd365e9a705e03424ece00784e))

## [7.2.0](https://github.com/UN-OCHA/common_design/compare/v7.1.0...v7.2.0) (2022-07-04)


### Features

* **cd-article:** adopt --brand colors ([456b401](https://github.com/UN-OCHA/common_design/commit/456b4015a8d2ee7ab52accab7f6e266704eb737d))
* **cd-bleed:** adopt --brand colors ([bc9dcf1](https://github.com/UN-OCHA/common_design/commit/bc9dcf146f150004be6cbf423c6eec789104fe29))
* **cd-byline:** adopt --brand colors ([be9a448](https://github.com/UN-OCHA/common_design/commit/be9a4486ead810b6f70a4ddc2fab00400fa10498))
* **cd-card:** adopt --brand colors ([94265de](https://github.com/UN-OCHA/common_design/commit/94265dec0fa3c01f6329e8bc3fcb9c1c4ff4bf4c))
* **cd-date:** adopt --brand colors ([3b6e1be](https://github.com/UN-OCHA/common_design/commit/3b6e1be3c86a34d0df84b925e8e6301bcd4e28b4))
* **cd-dropbutton:** adopt --brand colors ([204a3de](https://github.com/UN-OCHA/common_design/commit/204a3de37792d80c35e30688e8b2e7ea8fe2a557))
* **cd-facets:** adopt --brand colors ([3b4a1b2](https://github.com/UN-OCHA/common_design/commit/3b4a1b225f06a5e2b97275e7c917730ae3879cc0))
* **cd-figure-list:** adopt --brand colors ([393115e](https://github.com/UN-OCHA/common_design/commit/393115e5b2150fb16baf986cc61f9269939a9b88))
* **cd-filter:** adopt --brand colors ([b744f94](https://github.com/UN-OCHA/common_design/commit/b744f94034e6586b148367cdbca2e3c2454b239a))
* **cd-footer:** adopt --brand colors ([6bfb536](https://github.com/UN-OCHA/common_design/commit/6bfb536b0729cfb851c4b819ad3c92da7b29c11c))
* **cd-form:** adopt --brand colors ([d3d0cd5](https://github.com/UN-OCHA/common_design/commit/d3d0cd5bb88c29323b2e5026f9bab22b1d4d41c6))
* **cd-header:** adopt --brand colors ([3fea3aa](https://github.com/UN-OCHA/common_design/commit/3fea3aab772deb1b8ceff0cfd437bee277b47a5a))
* **cd-layout:** adopt --brand colors ([fdc5e54](https://github.com/UN-OCHA/common_design/commit/fdc5e547b45e3897a4e693f1d4a3fcd373937d06))
* **cd-link-list:** adopt --brand colors ([c0a16ce](https://github.com/UN-OCHA/common_design/commit/c0a16ce0adef2b95ff31aca7fc4dc42897d35795))
* **cd-page-title:** adopt --brand colors ([a53a8c8](https://github.com/UN-OCHA/common_design/commit/a53a8c885e929e899a41b43a87ca29e39c5d442f))
* **cd-pagination:** adopt --brand colors ([2dbc069](https://github.com/UN-OCHA/common_design/commit/2dbc0696a9071d9f8cb703f3052faaca343eced0))
* **cd-read-more:** adopt --brand colors ([26a5729](https://github.com/UN-OCHA/common_design/commit/26a5729ce2c1922ed012e9d40fba8fe5458726cb))
* **cd-social-links:** adopt --brand colors ([5950744](https://github.com/UN-OCHA/common_design/commit/5950744c79f141544ff563b3db8eca78ff6cf0e3))
* **cd-styled-list:** adopt --brand colors ([2725ec2](https://github.com/UN-OCHA/common_design/commit/2725ec276e29299fc49281c190a6b4f6bddbaa52))
* **cd-table:** adopt --brand colors ([f2e5e35](https://github.com/UN-OCHA/common_design/commit/f2e5e3516d3240e45aec1611b370e878339fb5c3))
* **cd-teaser:** adopt --brand colors ([4ddd405](https://github.com/UN-OCHA/common_design/commit/4ddd405356dbc5ccb64af43c0de800d8d4ee7955))
* **cd-title-list:** adopt --brand colors ([f7a6fcf](https://github.com/UN-OCHA/common_design/commit/f7a6fcf36b82c2c965161e3a8aaa2893753fe6d4))
* **cd-toc:** adopt --brand colors ([ea9d241](https://github.com/UN-OCHA/common_design/commit/ea9d241b4f6754e8f8ce3763bf0ded3391477fac))
* **styleguide:** adopt --brand colors ([94a9489](https://github.com/UN-OCHA/common_design/commit/94a94892835b085ac69567db73d9b78dbaa733c0))


### Bug Fixes

* **cd-form:** adopt --brand colors ([78a94c5](https://github.com/UN-OCHA/common_design/commit/78a94c5fb682fbceb41fde41640efcebabb6c416))
* namespace the embeds so they do not conflict with sub theme overrides ([b79fc99](https://github.com/UN-OCHA/common_design/commit/b79fc99c703b80be7f273833fdf36c9df9c8c58d))
* remove --cd-primary and --cd-primary--dark CSS Vars ([6476881](https://github.com/UN-OCHA/common_design/commit/6476881da7ecc50b94ded9d1cb11f9a9aac86803))

## [7.1.0](https://github.com/UN-OCHA/common_design/compare/v7.0.1...v7.1.0) (2022-06-29)


### Features

* Add theme settings to enable multilingual fonts via Drupal Libraries ([9080e25](https://github.com/UN-OCHA/common_design/commit/9080e25e107c70a444ec9a04cf535e1b4421eee3))
* visual indicator for unpublished nodes ([9329a2f](https://github.com/UN-OCHA/common_design/commit/9329a2fa89f0c903a7d0295f0e4464983cd2b18a))


### Bug Fixes

* CD Button applies --brand colors as default ([c91bb03](https://github.com/UN-OCHA/common_design/commit/c91bb03b7549b97feeee5359a242dacb51da0673))
* remove pesky dash that was causing errors ([d5742c4](https://github.com/UN-OCHA/common_design/commit/d5742c499be787df49b72df45cea6698adc29f55))
* remove the new variable that was created in this branch ([478253b](https://github.com/UN-OCHA/common_design/commit/478253ba5fcddc6faba6e2653160906ef660c3a5))
* update default --brand color in base-theme ([84021df](https://github.com/UN-OCHA/common_design/commit/84021df9e3114c3d0c44374ccb69eabcfb996852))

## [7.0.1](https://github.com/UN-OCHA/common_design/compare/v7.0.0...v7.0.1) (2022-04-26)


### Bug Fixes

* **a11y:** add focusable and aria-hidden attributes to search submit button svg to remove from accessibility tree ([cbc8782](https://github.com/UN-OCHA/common_design/commit/cbc87827f186879401e08b569f27627645419d9d))
* **a11y:** replace display none with max-width mixin for search button label to visually hide on mobile ([df79789](https://github.com/UN-OCHA/common_design/commit/df797896dc82d6db4a861ad1c81db9b8d39f2777))
* **a11y:** set text colour for visually hidden block headings to pass contrast ([94da5fa](https://github.com/UN-OCHA/common_design/commit/94da5faa7ad45a9d761e0404c12b0314636d0257))
* add accurate unocha social media links to replace placeholder hashes ([52cfb58](https://github.com/UN-OCHA/common_design/commit/52cfb58e535f7577c8d79990f5b2cabe2d058f85))
* add id to menu item anchors only if they have children to prevent duplicate ids on children ([cc1cc81](https://github.com/UN-OCHA/common_design/commit/cc1cc81d756c665c901f7ba60a9fbc698d79b5f4))
* ensure proper ID hierarchy in help menu template ([1565cdc](https://github.com/UN-OCHA/common_design/commit/1565cdccb32262c75a1b3ad600785b8a1391fabe))
* ensure proper ID hierarchy in main menu template ([6b33790](https://github.com/UN-OCHA/common_design/commit/6b33790fab5f9b43971abe6d4047f5fc0d7c7668))
* ensure proper ID hierarchy in user menu template ([e45b493](https://github.com/UN-OCHA/common_design/commit/e45b4935a59608a9231b4c1055bd914c358ebcfe))

## [7.0.0](https://github.com/UN-OCHA/common_design/compare/v6.0.0...v7.0.0) (2022-04-21)


### âš  BREAKING CHANGES

* **sass:** The sub-theme no longer uses Sass by default. All properties that were being overridden by sub-theme Sass are now folded into the base-theme, and instead you can use the `css/brand.css` file in the sub-theme to control your website branding.
* **icons:** The icon SVG sprite is included via a template rather than a hook. If you've customized your icon sprite, you'll need to reconfigure the sub-theme to take advantage of the template instead of `hook_preprocess_html()`.

### Features

* **branding:** Created a CSS file dedicated to site branding. You can control all site branding using five CSS Vars. ([2224bf8](https://github.com/UN-OCHA/common_design/commit/2224bf8d9de864f031d9242d903af2e8a4cc1e57))
* **icons:** include icon svg sprite via a template rather than a hook ([96cf1f7](https://github.com/UN-OCHA/common_design/commit/96cf1f7ca6cc8cbae72caae025b7a19158554d94))


## [6.0.0](https://github.com/UN-OCHA/common_design/compare/v5.1.0...v6.0.0) (2022-03-04)


### âš  BREAKING CHANGES

* **deps:** All implementations that receive updates after this commit will need to support **node.js 16.13.2 LTS** or higher.
* **deps:** stylelint@14 was adopted to keep up with Drupal 9 core, and the release had several major changes. It's possible that CD implementations which previously passed the linter will suddenly contain warnings or errors.

### Features

* **forms:** provide styling for common form elements ([#254](https://github.com/UN-OCHA/common_design/pull/254))
* **team:** CD-000 add conventional commits package ([#283](https://github.com/UN-OCHA/common_design/pull/283))


### Bug Fixes

* on largest breakpoint, make room for potentially long site names ([86d071c](https://github.com/UN-OCHA/common_design/commit/86d071c5e431755165f679aaad9c96b648f6ecc6))
* **security:** upgrade to node.js LTS 16.13.2 ([3925e3d](https://github.com/UN-OCHA/common_design/commit/3925e3d28d0e6d04dd0341319bedf26a205c50cd))


## [5.1.0](https://github.com/UN-OCHA/common_design/compare/v5.0.1...v5.1.0) (2021-11-18)

### Features

* Add conventional commits package to automate CHANGELOG #283
* Add theme functions and template overrides for Node, Taxonomy term and user edit forms
* Add template overrides for the date field, dataset table, media library item, radio element, and the generic form element, to add classes and attach CD libraries
* Expand form and field visual styles in `cd-form` component and add some basic layout rules for some elements like the Image and File fields.
* Add `cd-dropbutton` component that extends core library, for Drupal actions like reverting and deleting revisions


### Bug Fixes

* Expand README section about testing
* Expand `form alter` function to add CD button variant classes for Cancel and Delete buttons
* Expand `cd-form` README to explain the use of CubeCSS and `cd-flow` component to adjust vertical rhythm for forms
* **security:** Dependency updates for json-schema
* **security:** Update xmldom package published to npm instead of github
* **security:** Upgrade core-js


## [5.0.2](https://github.com/UN-OCHA/common_design/releases/tag/v5.0.2) (2021-12-06)

### Added
- Add `ch` unit to `unit-allowed-list` stylelint configuration

### Changed
- Mention D9 in README
- Fix some links in `CONTRIBUTING.md`

### Removed
- Remove `unit-whitelist` from stylelint configuration as it is deprecated
- Remove `plugin/no-browser-hacks` from sub theme stylelint configuration. See [issues #265](https://github.com/UN-OCHA/common_design/issues/265).
The base theme and sub theme are now tailored for >= Drupal 9.2

### Security
- Dependency updates for nth-check


## [5.0.1](https://github.com/UN-OCHA/common_design/releases/tag/v5.0.1) (2021-09-16)

### Security
- Dependency update for set-value


## [5.0.0](https://github.com/UN-OCHA/common_design/releases/tag/v5.0.0) (2021-09-13)

### Added
- Add admin and external link SVG icons to SVG icon sprite
- Add and develop Pull Request template
- Add Release Notes template to CONTRIBUTING.md
- Add Arabic, French, and Spanish translation files for CD Header and Footer user interface strings
- Add `corejs` version to babel config to prevent warnings during `npm run e2e`

### Changed
- Replace external js file with local file for CSS custom property ponyfill
- Add missing accessibility-related attributes on SVG icons in the sub theme social media partial
- node package `dependencies` and `devDependencies` reshuffle to speed up builds and ensure `sass:build` works when `NODE_ENV=production`

### Removed
- `stylelint-no-browser-hacks` plugin, also removed from D9. See [#265](https://github.com/UN-OCHA/common_design/issues/265)

### Fixed
- Fix page title logic to limit the use of the page title to node canonical and preview pages
- Use `form_id` in theme_suggestions_form_alter hook to provide proper theme suggestions
### Security
- Dependency updates for xmldom
- Dependency updates for axios


## [4.1.1](https://github.com/UN-OCHA/common_design/releases/tag/v4.1.1) (2021-07-23)

### Fixed
- Fix cd-filter component display for IE11 by reinstating previously removed rule to force display when CSS custom
properties are not supported.

## [4.1.0](https://github.com/UN-OCHA/common_design/releases/tag/v4.1.0) (2021-07-22)

### Changed
- Adjust image path in manifest file
- Add details about Manifest and PWA to README
- Add libraries for advanced and multilanguage fonts and README updates to describe usage.
- Add CSS custom property to set the grid size for `cd-image-grid` component
- Move `browserconfig.xml` into sub theme, and adjust image path.

### Fixed
- Fix Views `views-view-grid.html.twig` template override so it adds the `cd-grid` component only when the alignment
setting from Views UI is set to "horizontal".

### Removed
- Remove Roboto Condensed and Slab fonts and Noto Sans for multilingual from being included by default in `styles.css`.
- Remove grid partial previously included in `styles.scss` as it is not in use.

## [4.0.6](https://github.com/UN-OCHA/common_design/releases/tag/v4.0.6) (2021-06-16)

### Added
- Theme hook suggestions for Views Display

### Changed
- Improve e2e tests to run in TravisCI
- Move sample.sql for e2e tests in TravisCI outside of theme repo
- Update URL for HID Services in OCHA Services menu and in tests
- Component's Review continued, see `components/README.md` for status

### Fixed
- Focus link colour in cd-tags component
- Cursor for cd-button component

### Security
- Dependabot Bump `ws` from 7.4.4 to 7.4.6
- `css-what` as dev dependency for svg-sprite
- `trim-newlines` for stylelint-no-browser-hacks
